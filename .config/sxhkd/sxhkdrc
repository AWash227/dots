########################################
# sxhkd keybindings for BSPWM
########################################
#
#
#
# Toggle screencast recording
super + shift + r
  ~/.config/sxhkd/screencast.sh

# Screenshot selection to clipboard
super + shift + s
    maim -s | xclip -selection clipboard -t image/png

# Toggle speech-to-text
super + shift + v
  echo -n "toggle" | socat - UNIX-CONNECT:"/tmp/sttdict.sock"

# Paste speech-to-text
super + v
  echo -n "paste" | socat - UNIX-CONNECT:"/tmp/sttdict.sock"

# Switch window (rofi)
super + space
  rofi -show window -m "$(bspc query -M -m focused --names)"

# Application launcher (rofi)
super + d
    rofi -show run -m "$(bspc query -M -m focused --names)"

# Show all keybindings
super + slash
    ~/.config/sxhkd/show-keybinds.sh

super + shift + f
  chromium

# Reload sxhkd
super + Escape
    pkill -USR1 -x sxhkd

# Quit bspwm
super + shift + q
    bspc quit

# Restart bspwm
super + alt + r
    bspc wm -r

# Show last notification
super + n
    dunstctl history-pop

# Dismiss all notifications
super + shift + n
    dunstctl close-all

# Toggle notification pause
super + ctrl + n
    dunstctl set-paused toggle

# Close window
super + w
    bspc node -c

# Toggle monocle layout
super + m
    bspc desktop -l next

# Set tiled
super + t
    bspc node -t tiled -l normal

# Set pseudo-tiled
super + shift + t
    bspc node -t pseudo_tiled -l normal

# Set floating
super + s
    bspc node -t floating -l normal

# Toggle fullscreen
super + f
    bspc node -t ~fullscreen

# Swap with largest window
super + g
    bspc node -s biggest

# Move to preselected area
super + y
    bspc node newest.marked.local -n newest.!automatic.local

# Focus monitor (left, right)
super + {comma,period}
    bspc monitor -f {west,east}

# Move window to monitor (left, right)
super + shift + {comma,period}
    bspc node -m {west,east} --follow

# Focus window (hjkl)
super + {h,j,k,l}
    bspc node -f {west,south,north,east}

# Swap window (hjkl)
super + shift + {h,j,k,l}
    bspc node -s {west,south,north,east} --follow

# Preselect direction (hjkl)
super + ctrl + {h,j,k,l}
    bspc node -p {west,south,north,east}

# Cancel preselection
super + ctrl + space
    bspc node -p cancel

# Preselect top-left
super + alt + 1
    bspc node -p north -o 0.5 && bspc node -p west -o 0.5

# Preselect top-right
super + alt + 2
    bspc node -p north -o 0.5 && bspc node -p east -o 0.5

# Preselect bottom-left
super + alt + 3
    bspc node -p south -o 0.5 && bspc node -p west -o 0.5

# Preselect bottom-right
super + alt + 4
    bspc node -p south -o 0.5 && bspc node -p east -o 0.5

# Preselect ratio (10%-90%)
super + ctrl + {1-9}
    bspc node -o 0.{1-9}

# Cycle workspace (prev, next)
super + bracket{left,right}
    ~/.config/bspwm/cycle-workspace.sh {prev,next}

# Switch to workspace 1-10
super + {1-9,0}
    ~/.config/bspwm/switch-workspace.sh {1,2,3,4,5,6,7,8,9,10}

# Move window to workspace 1-10
super + shift + {1-9,0}
    ~/.config/bspwm/move-to-workspace.sh {1,2,3,4,5,6,7,8,9,10}

# Focus older window
super + o
    bspc wm -h off; bspc node older -f; bspc wm -h on

# Focus newer window
super + i
    bspc wm -h off; bspc node newer -f; bspc wm -h on

# Toggle marked/locked/sticky/private
super + ctrl + {m,x,y,z}
    bspc node -g {marked,locked,sticky,private}

# Resize floating window (hjkl)
ctrl + alt + {h,j,k,l}
    bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0}

# Move floating window (arrows)
ctrl + alt + {Left,Down,Up,Right}
    bspc node -v {-20 0,0 20,0 -20,20 0}

# Resize tiled window (hjkl)
super + alt + shift + {h,j,k,l}
    bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0} || \
    bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

# Decrease/increase gaps
super + {minus,equal}
    bspc config window_gap $(($(bspc config window_gap) {-,+} 5))

# Reset gaps
super + 0
    bspc config window_gap 12

# Rotate tree 90 degrees
super + r
    bspc node @/ -R 90

# Balance window sizes
super + b
    bspc node @/ -B

########################################
# Application Launchers
########################################

# Open terminal
super + Return
    kitty &

# Open chromium
super + shift + f
    chromium &

# Open VS Code
super + shift + c
    code &

# Open ranger
super + e
    kitty -e ranger &

# Open ranger in home
super + shift + e
    kitty -e ranger ~ &

# Open rofi drun
super + p
    rofi -show run -m "$(bspc query -M -m focused --names)"

########################################
# Multimedia Controls
########################################

# Open pavucontrol
super + a
    pavucontrol &

# Show audio output device
super + shift + a
    ~/.config/sxhkd/audio-output-notify.sh

# Volume up
XF86AudioRaiseVolume
    pactl set-sink-volume @DEFAULT_SINK@ +5% && \
    VOLUME=$(pactl get-sink-volume @DEFAULT_SINK@ | grep -Po '\d+%' | head -1) && \
    notify-send -a "volume" -u low -t 1000 "Volume" "$VOLUME"

# Volume down
XF86AudioLowerVolume
    pactl set-sink-volume @DEFAULT_SINK@ -5% && \
    VOLUME=$(pactl get-sink-volume @DEFAULT_SINK@ | grep -Po '\d+%' | head -1) && \
    notify-send -a "volume" -u low -t 1000 "Volume" "$VOLUME"

# Toggle mute
XF86AudioMute
    pactl set-sink-mute @DEFAULT_SINK@ toggle && \
    MUTED=$(pactl get-sink-mute @DEFAULT_SINK@ | grep -o 'yes' || echo 'no') && \
    notify-send -a "volume" -u low -t 1000 "Volume" "Muted: $MUTED"
